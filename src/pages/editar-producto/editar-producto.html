<!--
  Generated template for the EditarProductoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="dark">
    <ion-title>Editar Producto</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding text-center>
  <div class="alert alert-warning m-2" *ngIf="!empty()">
    <h5 class="text-center text-warning">Ingrese algun producto.</h5>
  </div>
  <div class="card" *ngIf="empty()">
    <div class="card-body">
      <h3>Lista de Productos</h3>
      <table class="table table-responsive table-hover">
        <thead>
          <th>Nombre</th>
          <th>Categoria</th>
          <th>Precio</th>
          <th colspan="2">Opciones</th>
        </thead>
        <tbody>
          <tr *ngFor="let product of productList">
            <td>{{ product.name }}</td>
            <td>{{ product.location }}</td>
            <td>{{ product.price }}</td>
            <td>
              <a class="btn btn-secondary text-white" (click)="[onEdit(product), isOn = true]">
               <i class="far fa-edit"></i>
              </a>
            </td>
            <td>
              <a class="btn btn-danger text-white" (click)="onDelete(product.$key)">
              <i class="fas fa-trash-alt"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <br>
  <!-- <div class="card" *ngIf="isOn"> -->
      <!-- <div class="card-body text-center"> -->
    <section *ngIf="isOn">
      <ion-item-group>
        <form [formGroup]="form" (ngSubmit)='onSubmit(form.value)'>
          <ion-list no line formGroupName="product">
              <ion-item hidden>
                <ion-input type="text"
                  formControlName="$key"
                  [(ngModel)]="productService.selectedProduct.$key"></ion-input>
              </ion-item>
              
              <ion-item>
                <ion-label floating>Nombre del producto</ion-label>
                <ion-input type="text"
                  formControlName="name"
                  [(ngModel)]="productService.selectedProduct.name"></ion-input>
              </ion-item>
              
              <ion-item>
                <ion-label floating>Categoria del Producto</ion-label>
                <ion-input type="text"
                  formControlName="category"
                  [(ngModel)]="productService.selectedProduct.category"></ion-input>
              </ion-item>
              
              <ion-item>
                <ion-label floating>Localizaci√≥n del Producto</ion-label>
                <ion-input type="text"
                  formControlName="location"
                  [(ngModel)]="productService.selectedProduct.location"></ion-input>
              </ion-item>
              
              <ion-item>
                <ion-label floating>Precio del producto</ion-label>
                  <ion-input type="text"
                    formControlName="price"
                    [(ngModel)]="productService.selectedProduct.price"></ion-input>
              </ion-item>
              
               <div padding text-center>
                <button ion-button [disabled]="!form.valid" (click)="onSubmit()">Modificar</button>
                <button ion-button color='dark' type="reset" (click)="[resetForm(productForm), isOn = false]">Descartar
                </button>
              </div>
          </ion-list>
        </form>
      </ion-item-group>
    </section>

</ion-content>
